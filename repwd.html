<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<link rel="stylesheet" href="./assets/lib/layui/css/layui.css" />
<link rel="stylesheet" href="./assets/css/userinfo.css" />
<script src="./assets/lib/jquery.js"></script>
<script src="./assets/js/baseAPI.js"></script>
<script>
    $(function(){
      console.log(localStorage.getItem('password'));
      $('#_oldPwd').prop('value',localStorage.getItem('password'))
        var form = layui.form;
        form.verify({   
            pwd: [
                /^[\S]{6,12}$/
                ,'密码必须6到12位，且不能出现空格'
            ],
          
        })
        $('form.layui-form').on('submit',function(e) { 
          e.preventDefault()
          $.ajax({  
            method:'POST',
            url:'my/updatepwd',
            mytoks: true,
            data:$(this).serialize(),
            success:function(res) {  
              console.log(res.message);
              $('form.layui-form')[0].reset()
            }
          })
        })
   })
</script>
<body>
    
        <form class="layui-form" lay-filter="fromuser">
          <div class="layui-form-item">
                <input type="text" hidden='hidden' name="id" id="" >
            <label class="layui-form-label">用户密码</label>
            <div class="layui-input-block">
              <input id="_oldPwd"
                type="text"
                name="oldPwd"
                readonly
                placeholder="请输入"
                autocomplete="off"
                class="layui-input"
              />
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">设置密码</label>
            <div class="layui-input-block">
              <input
                type="text"
                name="newPwd"
                placeholder="请输入"
                autocomplete="off"
                class="layui-input"
              />
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">确认密码 </label>
            <div class="layui-input-block">
              <input
                type="text"
                name="xxx"
                placeholder="请输入"
                autocomplete="off"
                class="layui-input"
              />
            </div>
          </div>
          <div class="layui-form-item">
            <div class="layui-input-block">
              <button class="layui-btn" lay-submit lay-filter="formDemo">
                立即提交
              </button>
              <button type="reset" id="btnreset" class="layui-btn layui-btn-primary">重置</button>
            </div>
          </div>
        </form>
    

      <script src="./assets/lib/layui/layui.all.js"></script>
</body>
</html>